"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[591,3169,8125],{60591:(e,t,n)=>{n.d(t,{execute:()=>s.e}),n(4576),n(86211),n(70787),n(78125);var s=n(92523)},64523:(e,t,n)=>{n.d(t,{O:()=>c});var s=n(31635),r=n(76061),i=n(55537),a=n(88885),o=n(95213),l=n(83661),u=n(5247);class c{getOperatorType(){return 10204}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,n,s){return new m(e,t,n,s)}execute(e,t,n,s){return e||(0,i.a)("null param is not allowed."),new m(null,t,n,s).generalize(e)}}class m extends r.G{constructor(e,t,n,s){super(),this.m_pline=null,this.m_point=new o.P,this.m_stack=[],this.m_resultstack=[],this.m_callCount=0,this.m_progressTracker=s,this.m_geoms=e,this.m_maxDeviation=t,this.m_bRemoveDegenerateParts=n}tock(){return!0}getRank(){return 1}next(){const e=this.m_geoms.next();return null===e?null:((0,i.c)(e),this.generalize(e))}getGeometryID(){return this.m_geoms.getGeometryID()}generalize(e){const t=e.getGeometryType();if((0,i.e)(t))return e;if(t===i.G.enumEnvelope){const t=new a.a({vd:e.getDescription()});return t.addEnvelope(e,!1),this.generalize(t)}if((0,i.f)(t)){const t=new a.P({vd:e.getDescription()});return t.addSegment(e,!0),this.generalize(t)}if((0,i.h)(t)||(0,i.t)(""),e.isEmpty()||this.m_maxDeviation<=0)return e;const n=(new u.O).execute(e,0,.05*this.m_maxDeviation,0,this.m_progressTracker);e.hasNonLinearSegments()&&(this.m_maxDeviation*=.95);const r=n,o=e.createInstance();o.getGeometryType()===i.G.enumPolygon&&o.setFillRule(e.getFillRule()),this.m_xy=r.getAttributeStreamRef(0);{const e={stack:[],error:void 0,hasError:!1};try{const t=new a.L;this.m_pline=t,(0,s.mS)(e,(0,l.h)(()=>{this.m_pline=null},!1),!1);for(let e=0,t=r.getPathCount();e<t;e++)this.generalizePath(r.getImpl(),e,o.getImpl())}catch(t){e.error=t,e.hasError=!0}finally{(0,s.hk)(e)}}return this.m_resultstack.length=0,this.m_stack.length=0,o}generalizePath(e,t,n){if(e.getPathSize(t)<2)return;this.m_resultstack.length=0,this.m_stack.length=0;const s=e.getPathStart(t),r=e.getPathEnd(t)-1,i=e.isClosedPath(t),a=e.isClosedPathInXYPlane(t);let o=0,u=-1;this.m_stack.push(i?s:r),this.m_stack.push(s);let c=!1,m=!1;for(!this.m_bRemoveDegenerateParts&&a&&(c=!0,m=!0);this.m_stack.length>1;){const t=this.m_stack.at(-1);this.m_stack.pop();const n=this.m_stack.at(-1);let s=e.getXY(t);this.m_pline.setStartXY(s),s=e.getXY(n),this.m_pline.setEndXY(s);const i=[Number.NaN];let a=this.findGreatestDistance(t,n,r,i);a>=0&&(c?c=!1:(m&&i[0]>o&&(o=i[0],u=a),i[0]<=this.m_maxDeviation&&(a=-1))),a>=0?(this.m_stack.push(a),this.m_stack.push(t)):this.m_resultstack.push(t)}i||this.m_resultstack.push(this.m_stack[0]);const h=this.m_resultstack.length;if(h===e.getPathSize(t)&&h===this.m_stack.length)n.addPath(e,t,!0);else if(this.m_resultstack.length>0){if(this.m_bRemoveDegenerateParts&&this.m_resultstack.length<=2){if(i||1===this.m_resultstack.length)return;if(l.P.distance(e.getXY(this.m_resultstack[0]),e.getXY(this.m_resultstack[1]))<=this.m_maxDeviation)return}if(m&&u>=0&&o<=this.m_maxDeviation){const e=this.m_resultstack.at(-1)>u;this.m_resultstack.push(u),e&&(this.m_resultstack[this.m_resultstack.length-2]=(0,l.c)(this.m_resultstack[this.m_resultstack.length-1],this.m_resultstack[this.m_resultstack.length-1]=this.m_resultstack[this.m_resultstack.length-2]))}for(let t=0,s=this.m_resultstack.length;t<s;t++)e.getPointByVal(this.m_resultstack[t],this.m_point),0===t?n.startPathPoint(this.m_point):n.lineToPoint(this.m_point);if(i){for(let e=this.m_resultstack.length;e<3;e++)n.lineToPoint(this.m_point);n.closePathWithLine()}}}findGreatestDistance(e,t,n,s){let r=t-1;t<=e&&(r=n);let i=-1,a=0;const o=new l.P;for(let t=e+1;t<=r;t++){this.m_xy.queryPoint2D(2*t,o);const e=o.x,n=o.y,s=this.m_pline.getClosestCoordinate(o,!1);o.assign(this.m_pline.getCoord2D(s)),o.x-=e,o.y-=n;const r=o.length();r>a&&(i=t,a=r),this.m_callCount++}return s[0]=a,i}}},70787:(e,t,n)=>{n.d(t,{fz:()=>o,g7:()=>i,zo:()=>a});var s=n(76061);const r=new(n(64523).O);function i(e,t,n){return r.execute(e,t,n,null)}function a(e,t,n){const i=r.executeMany(new s.S(e),t,n,null);return Array.from(i)}function o(){return r.supportsCurves()}},76061:(e,t,n)=>{n.d(t,{G:()=>s,S:()=>r});class s{*[Symbol.iterator](){let e=this.next();for(;e;)yield e,e=this.next()}}class r extends s{constructor(e){super(),this.m_iGeom=-1,this.m_aGeoms=e?e.slice():[]}next(){if(this.m_iGeom<this.m_aGeoms.length-1){const e=this.m_aGeoms[++this.m_iGeom];return this.m_aGeoms[this.m_iGeom]=null,e}return null}tock(){return!1}getGeometryID(){return this.m_iGeom}getRank(){return 1}}},78125:(e,t,n)=>{n.r(t),n.d(t,{fromExtent:()=>x,fromGeometry:()=>y,fromMultipoint:()=>k,fromPoint:()=>P,fromPolygon:()=>G,fromPolyline:()=>v,fromSpatialReference:()=>C,getSpatialReference:()=>_,toExtent:()=>M,toGeometry:()=>d,toMultipoint:()=>w,toPoint:()=>R,toPolygon:()=>D,toPolyline:()=>V});var s=n(83661),r=(n(79187),n(55537)),i=n(95213),a=n(88885),o=n(5443),l=n(48526),u=n(86738),c=n(39829),m=n(82799),h=(n(90293),n(83299));const g="_gxVersion",f=2,p=1;function _(e){return Array.isArray(e)?e[0].spatialReference:e.spatialReference}function y(e){switch(e.type){case"point":return P(e);case"multipoint":return k(e);case"polyline":return v(e);case"polygon":return G(e);case"extent":return x(e);default:throw new Error(`Unsupported geometry type: ${e.type}`)}}function x(e){if(!e.getCacheValue(g)){const t=new i.E;t.setCoords(e.xmin,e.ymin,e.xmax,e.ymax),e.hasM&&t.setInterval(f,0,e.mmin,e.mmax),e.hasZ&&t.setInterval(p,0,e.zmin,e.zmax),e.setCacheValue(g,t)}return e.getCacheValue(g)}function k(e){if(!e.getCacheValue(g)){const t=new a.M,n=new i.P,s=e.points,r=e.hasM,o=e.hasZ,l=o?3:2;for(let e=0,i=s.length;e<i;e++){const i=s[e];n.setXYCoords(i[0],i[1]),o&&n.setZ(i[2]??0),r&&n.setM(i[l]??NaN),t.add(n)}e.setCacheValue(g,t)}return e.getCacheValue(g)}function P(e){if(!e.getCacheValue(g)){const t=new i.P;t.setXYCoords(e.x,e.y),e.hasM&&t.setM(e.m),e.hasZ&&t.setZ(e.z),e.setCacheValue(g,t)}return e.getCacheValue(g)}function G(e){if(!e.getCacheValue(g)){const{curveRings:t,hasM:n,hasZ:s,rings:r}=e,i=(0,h.fromGeometryToGXGeometry)({curveRings:t,hasM:n,hasZ:s,rings:r});e.setCacheValue(g,i)}return e.getCacheValue(g)}function v(e){if(!e.getCacheValue(g)){const{curvePaths:t,hasM:n,hasZ:s,paths:r}=e,i=(0,h.fromGeometryToGXGeometry)({curvePaths:t,hasM:n,hasZ:s,paths:r});e.setCacheValue(g,i)}return e.getCacheValue(g)}function C(e){return(0,h.fromSpatialReference)(e)}function d(e,t){if(e)switch(e.getGeometryType()){case r.G.enumPoint:return R(e,t);case r.G.enumEnvelope:return M(e,t);case r.G.enumMultiPoint:return w(e,t);case r.G.enumPolyline:return V(e,t);case r.G.enumPolygon:return D(e,t)}return null}function M(e,t){if(e.isEmpty())return null;const n=new o.A({xmin:e.getXMin(),ymin:e.getYMin(),xmax:e.getXMax(),ymax:e.getYMax(),spatialReference:t}),s=e.getDescription();if(s.hasM()){const t=e.queryInterval(f,0);n.mmin=t.vmin,n.mmax=t.vmax}if(s.hasZ()){const t=e.queryInterval(p,0);n.zmin=t.vmin,n.zmax=t.vmax}return n.setCacheValue(g,e),n}function w(e,t){if(e.isEmpty())return null;const n=e.getDescription(),s=n.hasM(),r=n.hasZ(),a=[],o=new i.P;for(let t=0,n=e.getPointCount();t<n;t++){e.getPointByVal(t,o);const n=[o.getX(),o.getY()];r&&n.push(o.getZ()),s&&n.push(o.getM()),a.push(n)}const u=new l.A({hasM:s,hasZ:r,points:a,spatialReference:t});return u.setCacheValue(g,e),u}function R(e,t){if(e instanceof s.P)return new u.A({x:e.x,y:e.y,spatialReference:t});if(e.isEmpty())return null;const n=new u.A({x:e.getX(),y:e.getY(),spatialReference:t}),r=e.getDescription();return r.hasM()&&(n.m=e.getM()),r.hasZ()&&(n.z=e.getZ()),n.setCacheValue(g,e),n}function D(e,t){if(e.isEmpty())return null;const n=c.A.fromJSON({spatialReference:t,...(0,h.toGeometry)(e,null)});return n.setCacheValue(g,e),n}function V(e,t){if(e.isEmpty())return null;const n=m.A.fromJSON({spatialReference:t,...(0,h.toGeometry)(e,null)});return n.setCacheValue(g,e),n}},92523:(e,t,n)=>{n.d(t,{e:()=>o,g:()=>u});var s=n(4576),r=n(86211),i=n(70787),a=n(78125);function o(e,t,n={}){const{removeDegenerateParts:s=!1,unit:o}=n,l=(0,a.getSpatialReference)(e);return o&&(t=(0,r.UW)(t,o,l)),(0,a.toGeometry)((0,i.g7)((0,a.fromGeometry)(e),t,s),l)}const l=(0,i.fz)(),u=Object.freeze(Object.defineProperty({__proto__:null,execute:o,executeMany:function(e,t,n={}){const{removeDegenerateParts:o=!1,unit:l}=n,u=e.map(a.fromGeometry),c=(0,a.getSpatialReference)(e);return l&&(t=(0,r.UW)(t,l,c)),(0,i.zo)(u,t,o).map(e=>(0,a.toGeometry)(e,c)).filter(s.Ru)},supportsCurves:l},Symbol.toStringTag,{value:"Module"}))}}]);
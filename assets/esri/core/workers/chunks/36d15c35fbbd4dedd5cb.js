"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[1017],{13213:(e,t,r)=>{r.d(t,{d:()=>Z});var i,s=r(89317),n=r(40530),l=r(31635),o=r(37838),a=r(4718),u=r(93637),p=r(90629),d=r(91429),c=r(56507),f=r(50820),y=r(10873),g=r(15426),h=r(46499),m=r(65494),w=r(41214),b=r(93223),v=r(43937),x=r(36005);let C=i=class extends n.c{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=(0,p.cr)("12px"),this.fields=[],this.renderer=null}writeFields(e,t,r){const i=e.filter(e=>"avg_angle"!==e.statisticType).map(e=>e.toJSON());(0,u.sM)(r,i,t)}readRenderer(e,t,r){const i=t.drawingInfo?.renderer;return i?(0,m.L)(i,t,r)??void 0:(0,g.PD)(t,r)}clone(){return new i({fields:(0,a.o8)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,a.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,a.o8)(this.popupTemplate),renderer:(0,a.o8)(this.renderer),binType:(0,a.o8)(this.binType),size:this.size})}};(0,l.Cg)([(0,b.e)({binning:"binning"})],C.prototype,"type",void 0),(0,l.Cg)([(0,b.e)({geohash:"geohash",square:"square"}),(0,d.MZ)({type:["geohash","square"]})],C.prototype,"binType",void 0),(0,l.Cg)([(0,d.MZ)({type:Number,json:{write:!0}})],C.prototype,"fixedBinLevel",void 0),(0,l.Cg)([(0,d.MZ)({type:[h.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],C.prototype,"labelingInfo",void 0),(0,l.Cg)([(0,d.MZ)(y.kF)],C.prototype,"labelsVisible",void 0),(0,l.Cg)([(0,d.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],C.prototype,"maxScale",void 0),(0,l.Cg)([(0,d.MZ)(y.M6)],C.prototype,"popupEnabled",void 0),(0,l.Cg)([(0,d.MZ)({type:o.A,json:{name:"popupInfo",write:!0}})],C.prototype,"popupTemplate",void 0),(0,l.Cg)([(0,d.MZ)({cast:e=>"auto"===e?e:(0,c.GB)((0,p.cr)(e))})],C.prototype,"size",void 0),(0,l.Cg)([(0,d.MZ)({type:[f.A],json:{write:!0}})],C.prototype,"fields",void 0),(0,l.Cg)([(0,v.K)("fields")],C.prototype,"writeFields",null),(0,l.Cg)([(0,d.MZ)({types:w.Hg,json:{write:{target:"drawingInfo.renderer"}}})],C.prototype,"renderer",void 0),(0,l.Cg)([(0,x.w)("renderer",["drawingInfo.renderer"])],C.prototype,"readRenderer",null),C=i=(0,l.Cg)([(0,d.$K)("esri.layers.support.FeatureReductionBinning")],C);var M,R=r(25482),S=r(96576),E=r(33910);function A(e){return"simple"===e.type&&!e.visualVariables?.length}let j=M=class extends R.o{constructor(e){super(e),this.type="cluster",this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}get clusterRadius(){return this._get("clusterRadius")??(0,p.cr)("80px")}set clusterRadius(e){this._set("clusterRadius",e)}get clusterMinSize(){return this._get("clusterMinSize")??(0,p.cr)("12px")}set clusterMinSize(e){this._set("clusterMinSize",e)}get clusterMaxSize(){return this._get("clusterMaxSize")??(0,p.cr)("50px")}set clusterMaxSize(e){this._set("clusterMaxSize",e)}readRenderer(e,t,r){const i=t.drawingInfo?.renderer;return i?.authoringInfo?.isAutoGenerated?null:i?A(i)?null:(0,m.L)(i,t,r)??void 0:(0,g.PD)(t,r)}readSymbol(e,t,r){const i=t.drawingInfo?.renderer;if(i?.authoringInfo?.isAutoGenerated)return null;if(i&&A(i)){const e=(0,m.L)(i,t,r);return e?.symbol}return null}writeSymbol(e,t,r,i){const s=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||s){const r=new S.A({symbol:e});t.drawingInfo={renderer:r.write({},i)}}}writeFields(e,t,r){const i=e.filter(e=>"avg_angle"!==e.statisticType).map(e=>e.toJSON());(0,u.sM)(r,i,t)}readFields(e,t,r){return e.filter(e=>!e.isAutoGenerated).map(e=>f.A.fromJSON(e))}clone(){return new M({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,a.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,a.o8)(this.fields),maxScale:this.maxScale,renderer:(0,a.o8)(this.renderer),symbol:(0,a.o8)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,a.o8)(this.popupTemplate)})}};(0,l.Cg)([(0,d.MZ)({type:["cluster"],readOnly:!0,json:{write:!0}})],j.prototype,"type",void 0),(0,l.Cg)([(0,d.MZ)({cast:e=>"auto"===e?e:(0,c.GB)((0,p.cr)(e)),json:{write:!0}})],j.prototype,"clusterRadius",null),(0,l.Cg)([(0,d.MZ)({type:Number,cast:p.cr,json:{write:!0}})],j.prototype,"clusterMinSize",null),(0,l.Cg)([(0,d.MZ)({type:Number,cast:p.cr,json:{write:!0}})],j.prototype,"clusterMaxSize",null),(0,l.Cg)([(0,d.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],j.prototype,"maxScale",void 0),(0,l.Cg)([(0,d.MZ)(y.M6)],j.prototype,"popupEnabled",void 0),(0,l.Cg)([(0,d.MZ)({type:o.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],j.prototype,"popupTemplate",void 0),(0,l.Cg)([(0,d.MZ)({types:w.Hg,json:{write:{target:"drawingInfo.renderer"}}})],j.prototype,"renderer",void 0),(0,l.Cg)([(0,x.w)("renderer",["drawingInfo.renderer"])],j.prototype,"readRenderer",null),(0,l.Cg)([(0,d.MZ)({types:E.q8})],j.prototype,"symbol",void 0),(0,l.Cg)([(0,x.w)("symbol",["drawingInfo.renderer"])],j.prototype,"readSymbol",null),(0,l.Cg)([(0,v.K)("symbol")],j.prototype,"writeSymbol",null),(0,l.Cg)([(0,d.MZ)({type:[h.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],j.prototype,"labelingInfo",void 0),(0,l.Cg)([(0,d.MZ)(y.kF)],j.prototype,"labelsVisible",void 0),(0,l.Cg)([(0,d.MZ)({type:[f.A],json:{write:!0}})],j.prototype,"fields",void 0),(0,l.Cg)([(0,v.K)("fields")],j.prototype,"writeFields",null),(0,l.Cg)([(0,x.w)("fields")],j.prototype,"readFields",null),j=M=(0,l.Cg)([(0,d.$K)("esri.layers.support.FeatureReductionCluster")],j);var I=r(67202);const F={key:"type",base:n.c,typeMap:{cluster:j,binning:C}},Z={types:{key:"type",base:n.c,typeMap:{selection:I.A,cluster:j,binning:C}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:F},"portal-item":{types:F},"web-scene":{types:{key:"type",base:n.c,typeMap:{selection:I.A}},name:"layerDefinition.featureReduction",write:{allowNull:!0,layerContainerTypes:s.K}}}}}},39767:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(31635),s=r(69540),n=r(25482),l=r(91429);let o=class extends((0,s.OU)(n.o)){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};(0,i.Cg)([(0,l.MZ)({type:String,json:{write:!0}})],o.prototype,"expression",void 0),(0,i.Cg)([(0,l.MZ)({type:String,json:{write:!0}})],o.prototype,"title",void 0),(0,i.Cg)([(0,l.MZ)({type:String,json:{write:!0}})],o.prototype,"returnType",void 0),o=(0,i.Cg)([(0,l.$K)("esri.layers.support.ExpressionInfo")],o)},40530:(e,t,r)=>{r.d(t,{c:()=>l});var i=r(31635),s=r(25482),n=r(91429);let l=class extends s.o{constructor(){super(...arguments),this.type=null}};(0,i.Cg)([(0,n.MZ)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0),l=(0,i.Cg)([(0,n.$K)("esri.layers.support.FeatureReduction")],l)},50820:(e,t,r)=>{r.d(t,{A:()=>u});var i,s=r(31635),n=r(25482),l=r(4718),o=r(91429),a=r(39767);let u=class extends n.o{static{i=this}constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new i({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,l.o8)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,s.Cg)([(0,o.MZ)({type:Boolean,json:{write:!0}})],u.prototype,"isAutoGenerated",void 0),(0,s.Cg)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,s.Cg)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"alias",void 0),(0,s.Cg)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"onStatisticField",void 0),(0,s.Cg)([(0,o.MZ)({type:a.A,json:{write:!0}})],u.prototype,"onStatisticExpression",void 0),(0,s.Cg)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"statisticType",void 0),u=i=(0,s.Cg)([(0,o.$K)("esri.layers.support.AggregateField")],u)},56658:(e,t,r)=>{r.d(t,{J:()=>A});var i=r(31635),s=r(36708),n=r(91429),l=r(60950),o=r(99959);class a extends o.A{constructor(e){super(),this.type="aggregate",this.featureReductionProvider=e}get id(){return this.featureReductionProvider.id}get[l.ym](){const e=this.featureReductionProvider.featureReduction;return e&&"popupTemplate"in e?e:null}}var u=r(50820),p=r(13213),d=r(96576),c=r(48940),f=r(12330),y=r(49186),g=r(44208),h=r(53966),m=r(80200),w=r(39767),b=r(30943),v=r(53930);g.A.add("esri-cluster-arcade-enabled",!0);const x=(0,g.A)("esri-cluster-arcade-enabled"),C=new Set(["simple-line","simple-fill","picture-fill"]);function M(e,t){let r=t.clone();if(!R(r))return r;if(t.symbols.some(e=>C.has(e.type))&&(r=new d.A({symbol:new v.A})),r.authoringInfo||(r.authoringInfo=new b.A),r.authoringInfo.isAutoGenerated=!0,"visualVariables"in r){const t=(r.visualVariables||[]).filter(e=>"$view.scale"!==e.valueExpression);t.forEach(t=>{"rotation"===t.type?t.field?t.field=E(e,t.field,"avg_angle","number"):t.valueExpression&&(t.field=S(e,t.valueExpression,"avg_angle","number"),t.valueExpression=null):t.normalizationField?(t.field=E(e,t.field,"avg_norm","number",t.normalizationField),t.normalizationField=null):t.field?t.field=E(e,t.field,"avg","number"):t.valueExpression&&(t.field=S(e,t.valueExpression,"avg","number"),t.valueExpression=null)}),r.visualVariables=t}switch(r.type){case"simple":break;case"pie-chart":for(const t of r.attributes)t.field?t.field=E(e,t.field,"sum","number"):t.valueExpression&&(t.field=S(e,t.valueExpression,"sum","number"),t.valueExpression=null);break;case"unique-value":r.field?r.field=E(e,r.field,"mode","string"):r.valueExpression&&(r.field=S(e,r.valueExpression,"mode","string"),r.valueExpression=null);break;case"class-breaks":r.normalizationField?(r.field=E(e,r.field,"avg_norm","number",r.normalizationField),r.normalizationField=null):r.field?r.field=E(e,r.field,"avg","number"):r.valueExpression&&(r.field=S(e,r.valueExpression,"avg","number"),r.valueExpression=null)}return r}const R=e=>{const t=t=>h.A.getLogger("esri.views.2d.layers.support.clusterUtils").error(new y.A("Unsupported-renderer",t,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const r=e.normalizationType;if("field"!==r)return t(`FeatureReductionCluster does not support a normalizationType of ${r}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!x){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(e=>!(!("valueExpression"in e)||!e.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function S(e,t,r,i){const s=(0,m.d)(t),n="mode"===r?`cluster_type_${s}`:"sum"===r?`cluster_sum_${s}`:`cluster_avg_${s}`;return e.some(e=>e.name===n)||e.push(new u.A({name:n,isAutoGenerated:!0,onStatisticExpression:new w.A({expression:t,returnType:i}),statisticType:r})),n}function E(e,t,r,i,s){if("cluster_count"===t||e.some(e=>e.name===t))return t;const n=function(e,t,r){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const e=r,i="field",s=t.toLowerCase()+",norm:"+i+","+e.toLowerCase();return"cluster_avg_"+(0,m.d)(s)}}}(r,t,s);return e.some(e=>e.name===n)||("avg_norm"===r?e.push(new u.A({name:n,isAutoGenerated:!0,onStatisticExpression:new w.A({expression:`$feature.${t} / $feature.${s}`,returnType:i}),statisticType:"avg"})):e.push(new u.A({name:n,isAutoGenerated:!0,onStatisticField:t,statisticType:r}))),n}const A=e=>{const t=e;let r=class extends t{constructor(...e){super(...e),this.aggregateGraphicOrigin=new a(this),this.addHandles((0,s.wB)(()=>this.renderer,()=>{if(this.featureReduction){const e=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",e)}},s.OH))}set featureReduction(e){const t=this._normalizeFeatureReduction(e);this._set("featureReduction",t)}set renderer(e){}_withClusterVariable(e,t,r){const i=e.clone();return"visualVariables"in i&&(i.visualVariables||(i.visualVariables=[]),i.visualVariables.some(e=>"size"===e.type)||i.visualVariables.push(new c.A({field:"cluster_count",stops:[new f.A({value:1}),new f.A({useMinValue:!0,size:t}),new f.A({useMaxValue:!0,size:r})]}))),i}_normalizeFeatureReduction(e){if("cluster"!==e?.type)return e;const t=e.clone(),r=[new u.A({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],i=(t.fields??[]).filter(e=>!e.isAutoGenerated),s=e.renderer&&!e.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:n,clusterMaxSize:l}=t;if(s){t.fields=[...r,...i];const e=this._withClusterVariable(t.renderer,n,l);return t.effectiveFeatureRenderer=e,t.effectiveClusterRenderer=e,t}if(e.symbol){if(t.fields=[...r,...i],t.renderer=null,!this.renderer)return t.effectiveFeatureRenderer=null,t.effectiveClusterRenderer=null,t;const s=M(r,this.renderer),o=this._withClusterVariable(s,n,l),a="visualVariables"in o&&o.visualVariables?o.visualVariables:[],u=new d.A({symbol:e.symbol,visualVariables:a});return t.fields=[...r,...i],t.effectiveFeatureRenderer=o,t.effectiveClusterRenderer=u,t}if(!this.renderer)return e;const o=M(r,this.renderer);t.fields=[...r,...i],t.renderer=o;const a=this._withClusterVariable(o,n,l);return t.effectiveFeatureRenderer=a,t.effectiveClusterRenderer=a,t}};return(0,i.Cg)([(0,n.MZ)({readOnly:!0,clonable:!1})],r.prototype,"aggregateGraphicOrigin",void 0),(0,i.Cg)([(0,n.MZ)(p.d)],r.prototype,"featureReduction",null),r=(0,i.Cg)([(0,n.$K)("esri.layers.mixins.FeatureReductionLayer")],r),r}},65494:(e,t,r)=>{r.d(t,{L:()=>a,r:()=>l});var i=r(67076),s=r(90360),n=r(41214);function l(e,t){return a(e,null,t)}const o=(0,s.C)({types:n.Hg});function a(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r?.messages&&r.messages.push(new i.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):o(e,t,r):null}},67202:(e,t,r)=>{r.d(t,{A:()=>o});var i,s=r(31635),n=r(91429),l=r(40530);let o=i=class extends l.c{constructor(e){super(e),this.type="selection"}clone(){return new i}};(0,s.Cg)([(0,n.MZ)({type:["selection"]})],o.prototype,"type",void 0),o=i=(0,s.Cg)([(0,n.$K)("esri.layers.support.FeatureReductionSelection")],o)},80200:(e,t,r)=>{r.d(t,{T:()=>i,d:()=>g});const i={Base64:0,Hex:1,String:2,Raw:3},s=8,n=(1<<s)-1;function l(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(e){const t=[];for(let r=0,i=e.length*s;r<i;r+=s)t[r>>5]|=(e.charCodeAt(r/s)&n)<<r%32;return t}function a(e){const t=[];for(let r=0,i=32*e.length;r<i;r+=s)t.push(String.fromCharCode(e[r>>5]>>>r%32&n));return t.join("")}function u(e,t,r,i,s,n){return l(function(e,t){return e<<t|e>>>32-t}(l(l(t,e),l(i,n)),s),r)}function p(e,t,r,i,s,n,l){return u(t&r|~t&i,e,t,s,n,l)}function d(e,t,r,i,s,n,l){return u(t&i|r&~i,e,t,s,n,l)}function c(e,t,r,i,s,n,l){return u(t^r^i,e,t,s,n,l)}function f(e,t,r,i,s,n,l){return u(r^(t|~i),e,t,s,n,l)}function y(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let r=1732584193,i=-271733879,s=-1732584194,n=271733878;for(let t=0;t<e.length;t+=16){const o=r,a=i,u=s,y=n;r=p(r,i,s,n,e[t],7,-680876936),n=p(n,r,i,s,e[t+1],12,-389564586),s=p(s,n,r,i,e[t+2],17,606105819),i=p(i,s,n,r,e[t+3],22,-1044525330),r=p(r,i,s,n,e[t+4],7,-176418897),n=p(n,r,i,s,e[t+5],12,1200080426),s=p(s,n,r,i,e[t+6],17,-1473231341),i=p(i,s,n,r,e[t+7],22,-45705983),r=p(r,i,s,n,e[t+8],7,1770035416),n=p(n,r,i,s,e[t+9],12,-1958414417),s=p(s,n,r,i,e[t+10],17,-42063),i=p(i,s,n,r,e[t+11],22,-1990404162),r=p(r,i,s,n,e[t+12],7,1804603682),n=p(n,r,i,s,e[t+13],12,-40341101),s=p(s,n,r,i,e[t+14],17,-1502002290),i=p(i,s,n,r,e[t+15],22,1236535329),r=d(r,i,s,n,e[t+1],5,-165796510),n=d(n,r,i,s,e[t+6],9,-1069501632),s=d(s,n,r,i,e[t+11],14,643717713),i=d(i,s,n,r,e[t],20,-373897302),r=d(r,i,s,n,e[t+5],5,-701558691),n=d(n,r,i,s,e[t+10],9,38016083),s=d(s,n,r,i,e[t+15],14,-660478335),i=d(i,s,n,r,e[t+4],20,-405537848),r=d(r,i,s,n,e[t+9],5,568446438),n=d(n,r,i,s,e[t+14],9,-1019803690),s=d(s,n,r,i,e[t+3],14,-187363961),i=d(i,s,n,r,e[t+8],20,1163531501),r=d(r,i,s,n,e[t+13],5,-1444681467),n=d(n,r,i,s,e[t+2],9,-51403784),s=d(s,n,r,i,e[t+7],14,1735328473),i=d(i,s,n,r,e[t+12],20,-1926607734),r=c(r,i,s,n,e[t+5],4,-378558),n=c(n,r,i,s,e[t+8],11,-2022574463),s=c(s,n,r,i,e[t+11],16,1839030562),i=c(i,s,n,r,e[t+14],23,-35309556),r=c(r,i,s,n,e[t+1],4,-1530992060),n=c(n,r,i,s,e[t+4],11,1272893353),s=c(s,n,r,i,e[t+7],16,-155497632),i=c(i,s,n,r,e[t+10],23,-1094730640),r=c(r,i,s,n,e[t+13],4,681279174),n=c(n,r,i,s,e[t],11,-358537222),s=c(s,n,r,i,e[t+3],16,-722521979),i=c(i,s,n,r,e[t+6],23,76029189),r=c(r,i,s,n,e[t+9],4,-640364487),n=c(n,r,i,s,e[t+12],11,-421815835),s=c(s,n,r,i,e[t+15],16,530742520),i=c(i,s,n,r,e[t+2],23,-995338651),r=f(r,i,s,n,e[t],6,-198630844),n=f(n,r,i,s,e[t+7],10,1126891415),s=f(s,n,r,i,e[t+14],15,-1416354905),i=f(i,s,n,r,e[t+5],21,-57434055),r=f(r,i,s,n,e[t+12],6,1700485571),n=f(n,r,i,s,e[t+3],10,-1894986606),s=f(s,n,r,i,e[t+10],15,-1051523),i=f(i,s,n,r,e[t+1],21,-2054922799),r=f(r,i,s,n,e[t+8],6,1873313359),n=f(n,r,i,s,e[t+15],10,-30611744),s=f(s,n,r,i,e[t+6],15,-1560198380),i=f(i,s,n,r,e[t+13],21,1309151649),r=f(r,i,s,n,e[t+4],6,-145523070),n=f(n,r,i,s,e[t+11],10,-1120210379),s=f(s,n,r,i,e[t+2],15,718787259),i=f(i,s,n,r,e[t+9],21,-343485551),r=l(r,o),i=l(i,a),s=l(s,u),n=l(n,y)}return[r,i,s,n]}function g(e,t=i.Hex){const r=t||i.Base64,n=y(o(e),e.length*s);switch(r){case i.Raw:return n;case i.Hex:return function(e){const t="0123456789abcdef",r=[];for(let i=0,s=4*e.length;i<s;i++)r.push(t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15));return r.join("")}(n);case i.String:return a(n);case i.Base64:return function(e){const t=[];for(let r=0,i=4*e.length;r<i;r+=3){const i=(e[r>>2]>>r%4*8&255)<<16|(e[r+1>>2]>>(r+1)%4*8&255)<<8|e[r+2>>2]>>(r+2)%4*8&255;for(let s=0;s<4;s++)8*r+6*s>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6*(3-s)&63))}return t.join("")}(n)}}},87718:(e,t,r)=>{r.d(t,{F:()=>E,Y:()=>S});var i,s=r(31635),n=r(91429),l=r(49186),o=r(25482),a=r(93637),u=r(76369),p=r(66552),d=r(4718),c=r(50498),f=r(61956),y=r(79677);const g=new p.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),h=new p.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let m=i=class extends o.o{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:l,distance:o}=this;return new f.A({geometry:(0,d.o8)(r),objectIds:(0,d.o8)(n),spatialRelationship:i,timeExtent:(0,d.o8)(s),where:t,units:l,distance:o,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:s,objectIds:n,units:l,distance:o}=this;return new i({geometry:(0,d.o8)(t),objectIds:(0,d.o8)(n),spatialRelationship:r,timeExtent:(0,d.o8)(s),where:e,units:l,distance:o})}};(0,s.Cg)([(0,n.MZ)({type:String,json:{write:!0}})],m.prototype,"where",void 0),(0,s.Cg)([(0,n.MZ)({types:c.yR,json:{write:!0}})],m.prototype,"geometry",void 0),(0,s.Cg)([(0,n.MZ)({type:g.apiValues,json:{name:"spatialRel",read:{reader:g.read},write:{allowNull:!1,writer:g.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],m.prototype,"spatialRelationship",void 0),(0,s.Cg)([(0,n.MZ)({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,"distance",void 0),(0,s.Cg)([(0,n.MZ)({type:[Number],json:{write:!0}})],m.prototype,"objectIds",void 0),(0,s.Cg)([(0,n.MZ)({type:h.apiValues,json:{read:h.read,write:{writer:h.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,"units",void 0),(0,s.Cg)([(0,n.MZ)({type:y.A,json:{write:!0}})],m.prototype,"timeExtent",void 0),m=i=(0,s.Cg)([(0,n.$K)("esri.layers.support.FeatureFilter")],m);const w=m;var b;const v={read:{reader:u.LF},write:{writer:u.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},x={read:{reader:u.LF},write:{writer:u.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},C={name:"showExcludedLabels",default:!0};let M=b=class extends o.o{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const r=super.write(e,t);if(t?.origin){if(r.filter){const e=Object.keys(r.filter);if(e.length>1||"where"!==e[0])return t.messages?.push(new l.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return t.messages?.push(new l.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new b({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,s.Cg)([(0,n.MZ)({type:w,json:{write:{allowNull:!0,writer(e,t,r,i){const s=e?.write({},i);s&&0!==Object.keys(s).length?(0,a.sM)(r,s,t):(0,a.sM)(r,null,t)}}}})],M.prototype,"filter",void 0),(0,s.Cg)([(0,n.MZ)({json:{read:u.LF,write:{writer:u.M9,allowNull:!0},origins:{"web-map":v,"portal-item":v}}})],M.prototype,"includedEffect",void 0),(0,s.Cg)([(0,n.MZ)({json:{read:u.LF,write:{writer:u.M9,allowNull:!0},origins:{"web-map":x,"portal-item":x}}})],M.prototype,"excludedEffect",void 0),(0,s.Cg)([(0,n.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":C,"portal-item":C}}})],M.prototype,"excludedLabelsVisible",void 0),M=b=(0,s.Cg)([(0,n.$K)("esri.layers.support.FeatureEffect")],M);const R={write:{allowNull:!0}},S={type:M,json:{origins:{"web-map":R,"portal-item":R}}},E=e=>{const t=e;let r=class extends t{constructor(){super(...arguments),this.featureEffect=null}};return(0,s.Cg)([(0,n.MZ)(S)],r.prototype,"featureEffect",void 0),r=(0,s.Cg)([(0,n.$K)("esri.layers.mixins.FeatureEffectLayer")],r),r}}}]);
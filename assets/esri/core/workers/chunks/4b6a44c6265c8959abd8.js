"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[784],{9093:(t,e,n)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}n.d(e,{o8:()=>o,vt:()=>r,zK:()=>i});const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,fromValues:function(t,e,n,r,o,i,s,a,c,u,h,d,l,f,m,p){return[t,e,n,r,o,i,s,a,c,u,h,d,l,f,m,p]}},Symbol.toStringTag,{value:"Module"}))},27921:(t,e,n)=>{n.d(e,{$Q:()=>T,C:()=>u,Cr:()=>f,LV:()=>c,O_:()=>l,Qj:()=>h,T7:()=>x,Tj:()=>O,Ui:()=>y,_I:()=>A,fA:()=>d,gv:()=>w,lU:()=>m,mN:()=>E,mP:()=>v,mR:()=>j,vE:()=>P,vt:()=>a});var r=n(34727),o=n(38954),i=n(51850),s=(n(87317),n(44280),n(32114));function a(t=N){return[t[0],t[1],t[2],t[3]]}function c(t=N[0],e=N[1],n=N[2],r=N[3]){return d(t,e,n,r,s.Km.get())}function u(t,e){return d(e[0],e[1],e[2],e[3],t)}function h(t){return t}function d(t,e,n,r,o=a()){return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function l(t,e,n){const r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return n[0]=e[0]*o,n[1]=e[1]*o,n[2]=e[2]*o,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function f(t,e,n,r=a()){const o=n[0]-e[0],i=n[1]-e[1],s=n[2]-e[2],c=t[0]-e[0],u=t[1]-e[1],h=t[2]-e[2],d=i*h-s*u,l=s*c-o*h,f=o*u-i*c,m=d*d+l*l+f*f,p=Math.abs(m-1)>1e-5&&m>1e-12?1/Math.sqrt(m):1;return r[0]=d*p,r[1]=l*p,r[2]=f*p,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function m(t,e,n,r=0,i=Math.floor(n*(1/3)),s=Math.floor(n*(2/3))){if(n<3)return!1;e(b,r);let a=i,c=!1;for(;a<n-1&&!c;)e(_,a),a++,c=!(0,o.m)(b,_);if(!c)return!1;for(a=Math.max(a,s),c=!1;a<n&&!c;)e(g,a),a++,(0,o.e)(M,b,_),(0,o.n)(M,M),(0,o.e)(S,_,g),(0,o.n)(S,S),c=!(0,o.m)(b,g)&&!(0,o.m)(_,g)&&Math.abs((0,o.g)(M,S))<p;return c?(f(b,_,g,t),!0):(0!==r||1!==i||2!==s)&&m(t,e,n,0,1,2)}n(32728);const p=.99619469809,b=(0,i.vt)(),_=(0,i.vt)(),g=(0,i.vt)(),M=(0,i.vt)(),S=(0,i.vt)();function v(t,e,n){return e!==t&&u(t,e),t[3]=-(0,o.g)(t,n),t}function j(t,e,n,r){return(0,o.f)(g,e,t),l(n,g,r)}function y(t,e,n){return null!=e&&z(P(t,e.origin,e.direction,C,n))}function x(t,e,n){return z(P(t,e.origin,e.vector,0,n))}function w(t,e,n){return z(P(t,e.origin,e.vector,1,n))}function O(t,e){return E(t,e)>=0}function T(t,e){const n=(0,o.g)(t,e.ray.direction),r=-E(t,e.ray.origin);if(r<0&&n>=0)return!1;if(n>-1e-6&&n<1e-6)return r>0;if((r<0||n<0)&&!(r<0&&n<0))return!0;const i=r/n;return n>0?i<e.c1&&(e.c1=i):i>e.c0&&(e.c0=i),e.c0<=e.c1}function A(t,e,n){const r=(0,o.j)(s.rq.get(),t,-t[3]),i=function(t,e,n){const r=(0,o.j)(s.rq.get(),t,(0,o.g)(t,e));return(0,o.e)(n,e,r),n}(t,(0,o.e)(s.rq.get(),e,r),s.rq.get());return(0,o.i)(n,i,r),n}function E(t,e){return(0,o.g)(t,e)+t[3]}function z(t){return 0===t||1===t}function P(t,e,n,i,s){const a=(0,o.g)(t,n),c=E(t,e);if(0===a)return c>=0?2:3;let u=-c/a;return 1&i&&(u=(0,r.qE)(u,0,1)),!(4&i)&&u<0||!(8&i)&&u>1?c>=0?2:3:((0,o.i)(s,e,(0,o.j)(s,n,u)),c>=0?0:1)}const N=[0,0,1,0],C=8},29242:(t,e,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function o(t,e,n,r,o,i,s,a,c){return[t,e,n,r,o,i,s,a,c]}n.d(e,{fA:()=>o,vt:()=>r,zK:()=>i});const i=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,fromValues:o},Symbol.toStringTag,{value:"Module"}))},31635:(t,e,n)=>{function r(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function o(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}n.d(e,{Cg:()=>r,hk:()=>s,mS:()=>o}),Object.create,Object.create;var i="function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function s(t){function e(e){t.error=t.hasError?new i(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}var n,r=0;return function o(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(t){return e(t),o()})}else r|=1}catch(t){e(t)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}},32114:(t,e,n)=>{n.d(e,{Rc:()=>f,J8:()=>m,rq:()=>d,Km:()=>l}),n(44208);var r=n(26390),o=n(29242),i=n(9093),s=n(82534),a=n(48163),c=n(51850),u=n(91829);class h{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.d)(()=>this._reset()),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new h(a.vt)}static createVec3f64(){return new h(c.vt)}static createVec4f64(){return new h(u.vt)}static createMat3f64(){return new h(o.vt)}static createMat4f64(){return new h(i.vt)}static createQuatf64(){return new h(s.vt)}get test(){}}h.createVec2f64();const d=h.createVec3f64(),l=h.createVec4f64(),f=(h.createMat3f64(),h.createMat4f64()),m=h.createQuatf64()},32728:(t,e,n)=>{n.d(e,{nu:()=>s,wp:()=>i}),n(34727);var r=n(38954),o=n(51850);function i(t,e){const n=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),o=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),i=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return(0,r.h)(t,n,o,i),t}function s(t,e,n,i=(0,o.vt)()){const s=(0,r.b)(t),u=(0,r.b)(e),h=(0,r.g)(t,e)/(s*u);if(h<.9999999999999999){const o=Math.acos(h),d=((1-n)*s+n*u)/Math.sin(o),l=d/s*Math.sin((1-n)*o),f=d/u*Math.sin(n*o);return(0,r.j)(a,t,l),(0,r.j)(c,e,f),(0,r.i)(i,a,c)}return(0,r.l)(i,t,e,n)}(0,o.vt)(),(0,o.vt)(),(0,o.vt)();const a=(0,o.vt)(),c=(0,o.vt)()},44280:(t,e,n)=>{n.d(e,{EJ:()=>c,g7:()=>a,gr:()=>s});var r=n(34727),o=n(38954),i=n(51850);function s(t,e){return(0,o.g)(t,e)/(0,o.b)(t)}function a(t,e){const n=(0,o.g)(t,e)/((0,o.b)(t)*(0,o.b)(e));return-(0,r.XM)(n)}function c(t,e,n){(0,o.n)(u,t),(0,o.n)(h,e);const i=(0,o.g)(u,h),s=(0,r.XM)(i),a=(0,o.f)(u,u,h);return(0,o.g)(a,n)<0?2*Math.PI-s:s}const u=(0,i.vt)(),h=(0,i.vt)()},70491:(t,e,n)=>{n.r(e),n.d(e,{default:()=>X});var r=n(31635),o=n(74887),i=n(24326),s=n(91429),a=n(38954),c=n(51850),u=n(11964),h=n(94008),d=n(93687),l=n(15142),f=n(82919),m=n(71351),p=n(620);class b{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(t,e){this.objectToBoundingSphere=t,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new _,this._objectCount=0,e&&(void 0!==e.maximumObjectsPerNode&&(this._maximumObjectsPerNode=e.maximumObjectsPerNode),void 0!==e.maximumDepth&&(this._maximumDepth=e.maximumDepth))}destroy(){this._degenerateObjects.clear(),_.clearPool(),C[0]=null,I.prune(),J.prune()}add(t){const e=Array.from(t);this._grow(e);const n=_.acquire();for(const t of e)++this._objectCount,this._isDegenerate(t)?this._degenerateObjects.add(t):(n.init(this._root),this._add(t,n));_.release(n)}remove(t,e=null){this._objectCount-=t.length;const n=_.acquire();for(const r of t){const t=e??this.objectToBoundingSphere(r);E(t.radius)?(n.init(this._root),S(r,t,n)):this._degenerateObjects.delete(r)}_.release(n),this._shrink()}update(t,e){if(!E(e.radius)&&this._isDegenerate(t))return;const n=function(t){return C[0]=t,C}(t);this.remove(n,e),this.add(n)}forEachAlongRay(t,e,n){const r=(0,m.LV)(t,e);g(this._root,t=>{if(!function(t,e){return w(e.bounds.center,2*-e.halfSize,R),w(e.bounds.center,2*e.halfSize,B),(0,p.O_)(t.origin,t.direction,R,B)}(r,t))return!1;const e=t.node;return e.terminals.forAll(t=>{this._intersectsObject(r,t)&&n(t)}),null!==e.residents&&e.residents.forAll(t=>{this._intersectsObject(r,t)&&n(t)}),!0})}forEachAlongRayWithVerticalOffset(t,e,n,r){const o=(0,m.LV)(t,e);g(this._root,t=>{if(!function(t,e,n){return w(e.bounds.center,2*-e.halfSize,R),w(e.bounds.center,2*e.halfSize,B),n.applyToMinMax(R,B),(0,p.O_)(t.origin,t.direction,R,B)}(o,t,r))return!1;const e=t.node;return e.terminals.forAll(t=>{this._intersectsObjectWithOffset(o,t,r)&&n(t)}),null!==e.residents&&e.residents.forAll(t=>{this._intersectsObjectWithOffset(o,t,r)&&n(t)}),!0})}forEach(t){g(this._root,e=>{const n=e.node;return n.terminals.forAll(t),null!==n.residents&&n.residents.forAll(t),!0}),this._degenerateObjects.forEach(t)}forEachDegenerateObject(t){this._degenerateObjects.forEach(t)}findClosest(t,e,n,r=()=>!0,o=1/0){let i=1/0,s=1/0,c=null;const u=T(t,e),h=a=>{if(--o,!r(a))return;const u=this.objectToBoundingSphere(a);if(!(0,f.m7)(n,u))return;const h=A(t,e,u.center),d=h-u.radius,l=h+u.radius;d<i&&(i=d,s=l,c=a)};return M(this._root,r=>{if(o<=0||!(0,f.m7)(n,r.bounds))return!1;if((0,a.j)(q,u,r.halfSize),(0,a.i)(q,q,r.bounds.center),A(t,e,q)>s)return!1;const i=r.node;return i.terminals.forAll(t=>h(t)),null!==i.residents&&i.residents.forAll(t=>h(t)),!0},t,e),c}forEachInDepthRange(t,e,n,r,o,i,s){let c=-1/0,u=1/0;const h={setRange:t=>{1===n?(c=Math.max(c,t.near),u=Math.min(u,t.far)):(c=Math.max(c,-t.far),u=Math.min(u,-t.near))}};h.setRange(r);const d=A(e,n,t),l=T(e,n),m=T(e,-n),p=t=>{if(!s(t))return;const r=this.objectToBoundingSphere(t),a=A(e,n,r.center)-d,l=a-r.radius,m=a+r.radius;l>u||m<c||!(0,f.m7)(i,r)||o(t,h)};M(this._root,t=>{if(!(0,f.m7)(i,t.bounds))return!1;if((0,a.j)(q,l,t.halfSize),(0,a.i)(q,q,t.bounds.center),A(e,n,q)-d>u)return!1;if((0,a.j)(q,m,t.halfSize),(0,a.i)(q,q,t.bounds.center),A(e,n,q)-d<c)return!1;const r=t.node;return r.terminals.forAll(t=>p(t)),null!==r.residents&&r.residents.forAll(t=>p(t)),!0},e,n)}forEachNode(t){g(this._root,e=>t(e.node,e.bounds,e.halfSize,e.depth))}forEachNeighbor(t,e){const n=e.radius,r=e.center,o=e=>{const o=this.objectToBoundingSphere(e),i=o.radius,s=n+i;return!((0,a.s)(o.center,r)-s*s<=0)||t(e)};let i=!0;const s=t=>{i&&(i=o(t))};g(this._root,t=>{const e=t.bounds.radius,o=n+e;if((0,a.s)(t.bounds.center,r)-o*o>0)return!1;const c=t.node;return c.terminals.forAll(s),i&&null!==c.residents&&c.residents.forAll(s),i}),i&&this.forEachDegenerateObject(s)}_intersectsObject(t,e){const n=this.objectToBoundingSphere(e);return!(n.radius>0)||n.intersectRay(t)}_intersectsObjectWithOffset(t,e,n){const r=this.objectToBoundingSphere(e);return!(r.radius>0)||n.applyToBoundingSphere(r).intersectRay(t)}_add(t,e){e.advanceTo(this.objectToBoundingSphere(t))?e.node.terminals.push(t):(e.node.residents.push(t),e.node.residents.length>this._maximumObjectsPerNode&&e.depth<this._maximumDepth&&this._split(e))}_split(t){const e=t.node.residents;t.node.residents=null;for(let n=0;n<e.length;n++){const r=_.acquire().init(t);this._add(e.at(n),r),_.release(r)}}_grow(t){if(O(t,t=>this.objectToBoundingSphere(t),V),E(V.radius)&&!this._fitsInsideTree(V))if(j(this._root.node))this._root.bounds.copy(V),this._root.halfSize=1.25*this._root.bounds.radius,this._root.updateBoundsRadiusFromHalfSize();else{const t=this._rootBoundsForRootAsSubNode(V);this._placingRootViolatesMaxDepth(t)?this._rebuildTree(V,t):this._growRootAsSubNode(t),_.release(t)}}_rebuildTree(t,e){F.center=e.bounds.center,F.radius=e.halfSize,O([t,F],t=>t,L);const n=_.acquire().init(this._root);this._root.initFrom(null,L,L.radius),this._root.increaseHalfSize(1.25),g(n,t=>(this.add(t.node.terminals.data),null!==t.node.residents&&this.add(t.node.residents.data),!0)),_.release(n)}_placingRootViolatesMaxDepth(t){const e=Math.log(t.halfSize/this._root.halfSize)*Math.LOG2E;let n=0;return g(this._root,t=>(n=Math.max(n,t.depth),n+e<=this._maximumDepth)),n+e>this._maximumDepth}_rootBoundsForRootAsSubNode(t){const e=t.radius,n=t.center;let r=-1/0;const o=this._root.bounds.center,i=this._root.halfSize;for(let t=0;t<3;t++){const s=o[t]-i-(n[t]-e),a=n[t]+e-(o[t]+i),c=Math.max(0,Math.ceil(s/(2*i))),u=Math.max(0,Math.ceil(a/(2*i)))+1,h=2**Math.ceil(Math.log(c+u)*Math.LOG2E);r=Math.max(r,h),k[t].min=c,k[t].max=u}for(let t=0;t<3;t++){let e=k[t].min,n=k[t].max;const s=(r-(e+n))/2;e+=Math.ceil(s),n+=Math.floor(s);const a=o[t]-i-e*i*2;D.center[t]=a+(n+e)*i}const s=r*i;return D.radius=s*N,_.acquire().initFrom(null,D,s,0)}_growRootAsSubNode(t){const e=this._root.node;V.center=this._root.bounds.center,V.radius=this._root.halfSize,this._root.init(t),t.advanceTo(V,null,!0),t.node.children=e.children,t.node.residents=e.residents,t.node.terminals=e.terminals}_shrink(){for(;;){const t=this._findShrinkIndex();if(-1===t)break;this._root.advance(t),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let t=null;const e=this._root.node.children;let n=0,r=0;for(;r<e.length&&null==t;)n=r++,t=e[n];for(;r<e.length;)if(e[r++])return-1;return n}_isDegenerate(t){return!E(this.objectToBoundingSphere(t).radius)}_fitsInsideTree(t){const e=this._root.bounds,n=this._root.halfSize;return t.radius<=n&&t.center[0]>=e.center[0]-n&&t.center[0]<=e.center[0]+n&&t.center[1]>=e.center[1]-n&&t.center[1]<=e.center[1]+n&&t.center[2]>=e.center[2]-n&&t.center[2]<=e.center[2]+n}toJSON(){const{maximumDepth:t,maximumObjectsPerNode:e,_objectCount:n}=this,r=this._nodeToJSON(this._root.node);return{maximumDepth:t,maximumObjectsPerNode:e,objectCount:n,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:r}}}_nodeToJSON(t){const e=t.children.map(t=>t?this._nodeToJSON(t):null),n=t.residents?.map(t=>this.objectToBoundingSphere(t)),r=t.terminals?.map(t=>this.objectToBoundingSphere(t));return{children:e,residents:n,terminals:r}}static fromJSON(t){const e=new b(t=>t,{maximumDepth:t.maximumDepth,maximumObjectsPerNode:t.maximumObjectsPerNode});return e._objectCount=t.objectCount,e._root.initFrom(t.root.node,t.root.bounds,t.root.halfSize,t.root.depth),e}}class _{constructor(){this.bounds=new h.iy,this.halfSize=0,this.initFrom(null,null,0,0)}init(t){return this.initFrom(t.node,t.bounds,t.halfSize,t.depth)}initFrom(t,e,n,r=this.depth){return this.node=null!=t?t:_.createEmptyNode(),e&&this.bounds.copy(e),this.halfSize=n,this.depth=r,this}increaseHalfSize(t){this.halfSize*=t,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds.radius=this.halfSize*N}advance(t){let e=this.node.children[t];e||(e=_.createEmptyNode(),this.node.children[t]=e),this.node=e,this.halfSize/=2,this.depth++;const n=z[t];return this.bounds.center[0]+=n[0]*this.halfSize,this.bounds.center[1]+=n[1]*this.halfSize,this.bounds.center[2]+=n[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(t,e,n=!1){for(;;){if(this.isTerminalFor(t))return e?.(this,-1),!0;if(this.isLeaf()){if(!n)return e?.(this,-1),!1;this.node.residents=null}const r=this._childIndex(t);e?.(this,r),this.advance(r)}}isLeaf(){return null!=this.node.residents}isTerminalFor(t){return t.radius>this.halfSize/2}_childIndex(t){const e=this.bounds.center;return(e[0]<t.center[0]?1:0)+(e[1]<t.center[1]?2:0)+(e[2]<t.center[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new l.A({shrink:!0}),residents:new l.A({shrink:!0})}}static{this._pool=new d.A(()=>new _)}static acquire(){return _._pool.acquire()}static release(t){_._pool.release(t)}static clearPool(){_._pool.prune()}}function g(t,e){let n=_.acquire().init(t);const r=[n];for(;0!==r.length;){if(n=r.pop(),e(n)&&!n.isLeaf())for(let t=0;t<n.node.children.length;t++)n.node.children[t]&&r.push(_.acquire().init(n).advance(t));_.release(n)}}function M(t,e,n,r=1){let o=_.acquire().init(t);const i=[o];for(function(t,e,n){if(!J.length)for(let t=0;t<8;++t)J.push({index:0,distance:0});for(let n=0;n<8;++n){const r=z[n];J.data[n].index=n,J.data[n].distance=A(t,e,r)}J.sort((t,e)=>t.distance-e.distance);for(let t=0;t<8;++t)n[t]=J.data[t].index}(n,r,H);0!==i.length;){if(o=i.pop(),e(o)&&!o.isLeaf())for(let t=7;t>=0;--t){const e=H[t];o.node.children[e]&&i.push(_.acquire().init(o).advance(e))}_.release(o)}}function S(t,e,n){I.clear();const r=n.advanceTo(e,(t,e)=>{I.push(t.node),I.push(e)})?n.node.terminals:n.node.residents;if(r.removeUnordered(t),0===r.length)for(let t=I.length-2;t>=0&&v(I.data[t],I.data[t+1]);t-=2);}function v(t,e){return e>=0&&(t.children[e]=null),!!j(t)&&(null===t.residents&&(t.residents=new l.A({shrink:!0})),!0)}function j(t){if(0!==t.terminals.length)return!1;if(null!==t.residents)return 0===t.residents.length;for(let e=0;e<t.children.length;e++)if(t.children[e])return!1;return!0}function y(t,e){t[0]=Math.min(t[0],e.center[0]-e.radius),t[1]=Math.min(t[1],e.center[1]-e.radius),t[2]=Math.min(t[2],e.center[2]-e.radius)}function x(t,e){t[0]=Math.max(t[0],e.center[0]+e.radius),t[1]=Math.max(t[1],e.center[1]+e.radius),t[2]=Math.max(t[2],e.center[2]+e.radius)}function w(t,e,n){n[0]=t[0]+e,n[1]=t[1]+e,n[2]=t[2]+e}function O(t,e,n){R[0]=1/0,R[1]=1/0,R[2]=1/0,B[0]=-1/0,B[1]=-1/0,B[2]=-1/0;for(const n of t){const t=e(n);E(t.radius)&&(y(R,t),x(B,t))}(0,a.l)(n.center,R,B,.5),n.radius=Math.max(B[0]-R[0],B[1]-R[1],B[2]-R[2])/2}function T(t,e){let n,r=1/0;for(let o=0;o<8;++o){const i=A(t,e,P[o]);i<r&&(r=i,n=P[o])}return n}function A(t,e,n){return e*(t[0]*n[0]+t[1]*n[1]+t[2]*n[2])}function E(t){return!isNaN(t)&&t!==-1/0&&t!==1/0&&t>0}const z=[(0,c.fA)(-1,-1,-1),(0,c.fA)(1,-1,-1),(0,c.fA)(-1,1,-1),(0,c.fA)(1,1,-1),(0,c.fA)(-1,-1,1),(0,c.fA)(1,-1,1),(0,c.fA)(-1,1,1),(0,c.fA)(1,1,1)],P=[(0,c.fA)(-1,-1,-1),(0,c.fA)(-1,-1,1),(0,c.fA)(-1,1,-1),(0,c.fA)(-1,1,1),(0,c.fA)(1,-1,-1),(0,c.fA)(1,-1,1),(0,c.fA)(1,1,-1),(0,c.fA)(1,1,1)],N=Math.sqrt(3),C=[null],D=new h.iy,q=(0,c.vt)(),R=(0,c.vt)(),B=(0,c.vt)(),I=new l.A,V=new h.iy,F=new h.iy,L=new h.iy,k=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],J=new l.A,H=[0,0,0,0,0,0,0,0];var K=n(431);function Q(t,e,n){const r=new h.iy;return(0,a.j)(r.center,t,.5),(0,a.c)(r.center,r.center,e,.5),r.radius=(0,a.C)(r.center,t),(0,a.i)(r.center,r.center,n),r}class W{constructor(t,e,n){this.objectId=t,this.target=e,this.distance=n}}class Y extends W{constructor(t,e,n){super(t,e,n),this.type="vertex"}}class G extends W{constructor(t,e,n,r,o){super(t,e,n),this.start=r,this.end=o,this.type="edge"}}let U=class{constructor(){this._idToComponent=new Map,this._components=new b(t=>t.bounds),this._edges=new b(t=>t.bounds),this._tmpLineSegment=(0,u.vt)(),this._tmpP1=(0,c.vt)(),this._tmpP2=(0,c.vt)(),this._tmpP3=(0,c.vt)(),this.remoteClient=null}async fetchCandidates(t,e){await Promise.resolve(),(0,o.Te)(e);const n=t;n.mbs=new h.iy(t.mbsJSON),await this._ensureEdgeLocations(n,e);const r=[];return this._edges.forEachNeighbor(t=>(this._addCandidates(n,t,r),r.length<1e3),n.mbs),{result:{candidates:r}}}async _ensureEdgeLocations(t,e){const n=[];if(this._components.forEachNeighbor(t=>{if(null==t.info){const{id:e,uid:r}=t;n.push({id:e,uid:r})}return!0},t.mbs),!n.length)return;const r={components:n},o=await this.remoteClient.invoke("fetchAllEdgeLocations",r,e??{});for(const t of o.components)this._setFetchEdgeLocations(t)}async add(t){const e=new Z(t.id,new h.iy(t.bounds));return this._idToComponent.set(e.id,e),this._components.add([e]),{result:{}}}async remove(t){const e=this._idToComponent.get(t.id);if(e){const t=[];this._edges.forEachNeighbor(n=>(n.component===e&&t.push(n),!0),e.bounds),this._edges.remove(t),this._components.remove([e]),this._idToComponent.delete(e.id)}return{result:{}}}_setFetchEdgeLocations(t){const e=this._idToComponent.get(t.id);if(null==e||t.uid!==e.uid)return;const n=K.HY.createView(t.locations),r=new Array(n.count),o=(0,c.vt)(),i=(0,c.vt)();for(let s=0;s<n.count;s++){n.position0.getVec(s,o),n.position1.getVec(s,i);const a=Q(o,i,t.origin),c=new tt(e,s,a);r[s]=c}this._edges.add(r);const{objectIds:s,origin:a}=t;e.info={locations:n,objectIds:s,origin:a}}_addCandidates(t,e,n){const{info:r}=e.component,{origin:o,objectIds:i}=r,s=r.locations,c=s.position0.getVec(e.index,this._tmpP1),u=s.position1.getVec(e.index,this._tmpP2);(0,a.i)(c,c,o),(0,a.i)(u,u,o);const h=i[s.componentIndex.get(e.index)];this._addEdgeCandidate(t,h,c,u,n),$(t,h,c,n),$(t,h,u,n)}_addEdgeCandidate(t,e,n,r,o){if(!t.returnEdge)return;const i=t.mbs.center,s=(0,u.Cr)(n,r,this._tmpLineSegment),h=(0,u._I)(s,i,this._tmpP3);t.mbs.contains(h)&&o.push(new G(e,(0,c.o8)(h),(0,a.C)(i,h),(0,c.o8)(n),(0,c.o8)(r)))}};U=(0,r.Cg)([(0,s.$K)("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],U);const X=U;function $(t,e,n,r){t.returnVertex&&t.mbs.contains(n)&&r.push(new Y(e,(0,c.o8)(n),(0,a.C)(t.mbs.center,n)))}class Z{constructor(t,e){this.id=t,this.bounds=e,this.info=null,this.uid=(0,i.c)()}}class tt{constructor(t,e,n){this.component=t,this.index=e,this.bounds=n}}},77690:(t,e,n)=>{n.d(e,{B8:()=>a,Ge:()=>f,I0:()=>l,KC:()=>c,a4:()=>u,hZ:()=>i,hs:()=>d,lw:()=>h,mg:()=>s,z0:()=>o});var r=n(34304);function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function i(t,e,n,r,o,i,s,a,c,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=s,t[6]=a,t[7]=c,t[8]=u,t}function s(t,e){if(t===e){const n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function a(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5],c=e[6],u=e[7],h=e[8],d=h*s-a*u,l=-h*i+a*c,f=u*i-s*c;let m=n*d+r*l+o*f;return m?(m=1/m,t[0]=d*m,t[1]=(-h*r+o*u)*m,t[2]=(a*r-o*s)*m,t[3]=l*m,t[4]=(h*n-o*c)*m,t[5]=(-a*n+o*i)*m,t[6]=f*m,t[7]=(-u*n+r*c)*m,t[8]=(s*n-r*i)*m,t):null}function c(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5],c=e[6],u=e[7],h=e[8];return t[0]=s*h-a*u,t[1]=o*u-r*h,t[2]=r*a-o*s,t[3]=a*c-i*h,t[4]=n*h-o*c,t[5]=o*i-n*a,t[6]=i*u-s*c,t[7]=r*c-n*u,t[8]=n*s-r*i,t}function u(t){const e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],s=t[5],a=t[6],c=t[7],u=t[8];return e*(u*i-s*c)+n*(-u*o+s*a)+r*(c*o-i*a)}function h(t,e,n){const r=e[0],o=e[1],i=e[2],s=e[3],a=e[4],c=e[5],u=e[6],h=e[7],d=e[8],l=n[0],f=n[1],m=n[2],p=n[3],b=n[4],_=n[5],g=n[6],M=n[7],S=n[8];return t[0]=l*r+f*s+m*u,t[1]=l*o+f*a+m*h,t[2]=l*i+f*c+m*d,t[3]=p*r+b*s+_*u,t[4]=p*o+b*a+_*h,t[5]=p*i+b*c+_*d,t[6]=g*r+M*s+S*u,t[7]=g*o+M*a+S*h,t[8]=g*i+M*c+S*d,t}function d(t,e,n){const r=n[0],o=n[1],i=n[2];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=i*e[6],t[7]=i*e[7],t[8]=i*e[8],t}function l(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],s=n+n,a=r+r,c=o+o,u=n*s,h=r*s,d=r*a,l=o*s,f=o*a,m=o*c,p=i*s,b=i*a,_=i*c;return t[0]=1-d-m,t[3]=h-_,t[6]=l+b,t[1]=h+_,t[4]=1-u-m,t[7]=f-p,t[2]=l-b,t[5]=f+p,t[8]=1-u-d,t}function f(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5],c=e[6],u=e[7],h=e[8],d=e[9],l=e[10],f=e[11],m=e[12],p=e[13],b=e[14],_=e[15],g=n*a-r*s,M=n*c-o*s,S=n*u-i*s,v=r*c-o*a,j=r*u-i*a,y=o*u-i*c,x=h*p-d*m,w=h*b-l*m,O=h*_-f*m,T=d*b-l*p,A=d*_-f*p,E=l*_-f*b;let z=g*E-M*A+S*T+v*O-j*w+y*x;return z?(z=1/z,t[0]=(a*E-c*A+u*T)*z,t[1]=(c*O-s*E-u*w)*z,t[2]=(s*A-a*O+u*x)*z,t[3]=(o*A-r*E-i*T)*z,t[4]=(n*E-o*O+i*w)*z,t[5]=(r*O-n*A-i*x)*z,t[6]=(p*y-b*j+_*v)*z,t[7]=(b*S-m*y-_*M)*z,t[8]=(m*j-p*S+_*g)*z,t):null}function m(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}const p=h,b=m;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},adjoint:c,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},determinant:u,equals:function(t,e){const n=t[0],o=t[1],i=t[2],s=t[3],a=t[4],c=t[5],u=t[6],h=t[7],d=t[8],l=e[0],f=e[1],m=e[2],p=e[3],b=e[4],_=e[5],g=e[6],M=e[7],S=e[8],v=(0,r.FD)();return Math.abs(n-l)<=v*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-f)<=v*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-m)<=v*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-p)<=v*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(a-b)<=v*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(c-_)<=v*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(u-g)<=v*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(h-M)<=v*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(d-S)<=v*Math.max(1,Math.abs(d),Math.abs(S))},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},fromMat4:o,fromQuat:l,fromRotation:function(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},invert:a,isOrthoNormal:function(t){const e=(0,r.FD)(),n=t[0],o=t[1],i=t[2],s=t[3],a=t[4],c=t[5],u=t[6],h=t[7],d=t[8];return Math.abs(1-(n*n+s*s+u*u))<=e&&Math.abs(1-(o*o+a*a+h*h))<=e&&Math.abs(1-(i*i+c*c+d*d))<=e},mul:p,multiply:h,multiplyScalar:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},multiplyScalarAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},normalFromMat4:f,normalFromMat4Legacy:function(t,e){const n=e[0],r=e[1],o=e[2],i=e[4],s=e[5],a=e[6],c=e[8],u=e[9],h=e[10],d=h*s-a*u,l=-h*i+a*c,f=u*i-s*c,m=n*d+r*l+o*f;if(!m)return null;const p=1/m;return t[0]=d*p,t[1]=(-h*r+o*u)*p,t[2]=(a*r-o*s)*p,t[3]=l*p,t[4]=(h*n-o*c)*p,t[5]=(-a*n+o*i)*p,t[6]=f*p,t[7]=(-u*n+r*c)*p,t[8]=(s*n-r*i)*p,t},projection:function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:function(t,e,n){const r=e[0],o=e[1],i=e[2],s=e[3],a=e[4],c=e[5],u=e[6],h=e[7],d=e[8],l=Math.sin(n),f=Math.cos(n);return t[0]=f*r+l*s,t[1]=f*o+l*a,t[2]=f*i+l*c,t[3]=f*s-l*r,t[4]=f*a-l*o,t[5]=f*c-l*i,t[6]=u,t[7]=h,t[8]=d,t},scale:d,scaleByVec2:function(t,e,n){const r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t},set:i,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:b,subtract:m,translate:function(t,e,n){const r=e[0],o=e[1],i=e[2],s=e[3],a=e[4],c=e[5],u=e[6],h=e[7],d=e[8],l=n[0],f=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=s,t[4]=a,t[5]=c,t[6]=l*r+f*s+u,t[7]=l*o+f*a+h,t[8]=l*i+f*c+d,t},transpose:s},Symbol.toStringTag,{value:"Module"}))},82534:(t,e,n)=>{function r(){return[0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3]]}n.d(e,{o8:()=>o,vt:()=>r,zK:()=>i});const i=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,fromValues:function(t,e,n,r){return[t,e,n,r]}},Symbol.toStringTag,{value:"Module"}))},91869:(t,e,n)=>{function r(t,e){for(const n of t.values())if(e(n))return!0;return!1}function o(t,e,n){const r=t.get(e);if(void 0!==r)return r;const o=n();return t.set(e,o),o}function i(t){const e=new Map;return n=>(e.has(n)||e.set(n,t(n)),e.get(n))}n.d(e,{Bj:()=>i,Bs:()=>r,tE:()=>o})}}]);
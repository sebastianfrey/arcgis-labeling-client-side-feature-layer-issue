"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[566,9958],{29958:(t,e,o)=>{o.d(e,{default:()=>j});var i=o(31635),r=o(69540),s=o(25482),n=o(91429),a=o(56507),p=o(16930),l=o(65864),u=o(50498),d=o(66552),v=o(7562),y=o(93223);const c=new d.J({asc:"ascending",desc:"descending"});let g=class extends((0,r.OU)(s.o)){constructor(t){super(t),this.fieldName=void 0,this.fieldOrder=void 0,this.outStatistic=void 0,this.type="pivot"}};(0,i.Cg)([(0,n.MZ)({type:String,json:{name:"pivotParameters.pivotFieldName",write:!0}})],g.prototype,"fieldName",void 0),(0,i.Cg)([(0,y.e)(c,{name:"pivotParameters.pivotFieldOrder"})],g.prototype,"fieldOrder",void 0),(0,i.Cg)([(0,n.MZ)({type:v.A,json:{name:"pivotParameters.outStatistic",write:!0}})],g.prototype,"outStatistic",void 0),(0,i.Cg)([(0,y.e)({Pivot:"pivot"},{name:"pivotType",readOnly:!0})],g.prototype,"type",void 0),g=(0,i.Cg)([(0,n.$K)("esri.rest.support.PivotDefinition")],g);const m=g;var h=o(27348),f=o(77696),C=o(58174);let P=class extends((0,r.OU)(s.o)){constructor(t){super(t),this.sourceFields=void 0,this.valueFieldName=void 0,this.targetFieldName=void 0,this.type="un-pivot"}};(0,i.Cg)([(0,n.MZ)({type:[String],json:{name:"unPivotParameters.sourceFields",write:!0}})],P.prototype,"sourceFields",void 0),(0,i.Cg)([(0,n.MZ)({type:String,json:{name:"unPivotParameters.valueFieldName",write:!0}})],P.prototype,"valueFieldName",void 0),(0,i.Cg)([(0,n.MZ)({type:String,json:{name:"unPivotParameters.targetFieldName",write:!0}})],P.prototype,"targetFieldName",void 0),(0,i.Cg)([(0,y.e)({Unpivot:"un-pivot"},{name:"pivotType",readOnly:!0})],P.prototype,"type",void 0),P=(0,i.Cg)([(0,n.$K)("esri.rest.support.UnPivotDefinition")],P);var S=o(43937);const w={key:"type",base:null,typeMap:{pivot:m,"un-pivot":P}};let j=class extends((0,r.OU)((0,f.y)(s.o))){constructor(t){super(t),this.cacheHint=void 0,this.defaultSpatialReferenceEnabled=!1,this.geometry=null,this.groupByFieldsForStatistics=null,this.num=void 0,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.outPivots=null,this.quantizationParameters=null,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.where=void 0}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10,e.where="1=1"}};(0,i.Cg)([(0,n.MZ)({type:Boolean,json:{write:!0}})],j.prototype,"cacheHint",void 0),(0,i.Cg)([(0,n.MZ)({type:Boolean,json:{default:!1,write:!0}})],j.prototype,"defaultSpatialReferenceEnabled",void 0),(0,i.Cg)([(0,n.MZ)({types:u.yR,json:{read:l.rS,write:!0}})],j.prototype,"geometry",void 0),(0,i.Cg)([(0,n.MZ)({type:[String],json:{write:!0}})],j.prototype,"groupByFieldsForStatistics",void 0),(0,i.Cg)([(0,n.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],j.prototype,"num",void 0),(0,i.Cg)([(0,n.MZ)({type:[String],json:{write:!0}})],j.prototype,"orderByFields",void 0),(0,i.Cg)([(0,n.MZ)({type:[String],json:{write:!0}})],j.prototype,"outFields",void 0),(0,i.Cg)([(0,n.MZ)({type:p.A,json:{name:"outSR",write:!0}})],j.prototype,"outSpatialReference",void 0),(0,i.Cg)([(0,n.MZ)({type:[v.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],j.prototype,"outStatistics",void 0),(0,i.Cg)([(0,n.MZ)({types:[w],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outPivots&&this.outPivots.length>0}}}}})],j.prototype,"outPivots",void 0),(0,i.Cg)([(0,n.MZ)({type:h.A,json:{write:!0}})],j.prototype,"quantizationParameters",void 0),(0,i.Cg)([(0,n.MZ)({type:p.A,json:{write:!0}})],j.prototype,"sourceSpatialReference",void 0),(0,i.Cg)([(0,y.e)(C.x,{ignoreUnknown:!1,name:"spatialRel"})],j.prototype,"spatialRelationship",void 0),(0,i.Cg)([(0,n.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],j.prototype,"start",void 0),(0,i.Cg)([(0,S.K)("start"),(0,S.K)("num")],j.prototype,"writeStart",null),(0,i.Cg)([(0,n.MZ)({type:String,json:{write:!0}})],j.prototype,"where",void 0),j=(0,i.Cg)([(0,n.$K)("esri.rest.support.PivotQuery")],j),j.from=(0,a.dp)(j)},80566:(t,e,o)=>{o.r(e),o.d(e,{executePivotQuery:()=>v});var i=o(2272),r=o(11254),s=o(84952),n=o(17136),a=o(10536),p=o(5076);function l(t){const e=(0,p.i)(t),o=e.outPivots;if(o?.length){for(const t of o)"Pivot"===t.pivotType&&t.pivotParameters.outStatistic?t.pivotParameters.outStatistic=JSON.stringify(t.pivotParameters.outStatistic):"Unpivot"===t.pivotType&&(t.unPivotParameters.sourceFields=t.unPivotParameters.sourceFields.join(","));e.outPivots=JSON.stringify(o)}return e}var u=o(22671),d=o(29958);async function v(t,e,o){const p=(0,i.Dl)(t),v={...o},{data:y}=await async function(t,e,o){return await async function(t,e,o={}){const i="string"==typeof t?(0,s.An)(t):t,p=e.geometry?[e.geometry]:[],u=await(0,n.el)(p,null,{signal:o.signal}),d=u?.[0];null!=d&&((e=e.clone()).geometry=d);const v=(0,a.z)({...i.query,f:"json",...l(e)});return(0,r.A)((0,s.fj)(i.path,"queryPivot"),{...o,query:{...v,...o.query}})}(t,e,o)}(p,d.default.from(e),v);return u.A.fromJSON(y)}}}]);
import{kF as fe,gp as ue,br as _t,i0 as ne,eF as te,bt as ot,pZ as ce,p_ as he,p$ as ye,q0 as le,q1 as pe,i$ as de}from"./index-C_bK48d2.js";let ht=globalThis.Float16Array;function Be(...n){return new(ht??Float32Array)(...n)}function it(){return ht}let ft=!!ht;var a;let ee=(a=class{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.elementCount=9;const i=this.TypedArrayConstructor;s===void 0&&(s=9*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const s=this.typedBuffer,f=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;for(let c=0;c<9;++c)s[i++]=f[u++]}get buffer(){return this.typedBuffer.buffer}},a.ElementCount=9,a);var B;let se=(B=class{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.elementCount=16;const i=this.TypedArrayConstructor;s===void 0&&(s=16*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const s=this.typedBuffer;let f=t*this.typedBufferStride;for(let i=0;i<16;++i)s[f++]=e[r++]}get buffer(){return this.typedBuffer.buffer}},B.ElementCount=16,B);const yt=class yt{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.elementCount=1;const i=this.TypedArrayConstructor;s===void 0&&(s=i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.stride=s,this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}};yt.ElementCount=1;let h=yt;var E;let p=(E=class{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.start=r,this.elementCount=2;const i=this.TypedArrayConstructor;s===void 0&&(s=2*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,fe(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const s=this.typedBuffer,f=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;s[i++]=f[u++],s[i]=f[u]}get buffer(){return this.typedBuffer.buffer}},E.ElementCount=2,E);var T;let d=(T=class{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.elementCount=3;const i=this.TypedArrayConstructor;s===void 0&&(s=3*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,ue(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=s}copyFrom(t,e,r){const s=this.typedBuffer,f=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;s[i++]=f[u++],s[i++]=f[u++],s[i]=f[u]}get buffer(){return this.typedBuffer.buffer}},T.ElementCount=3,T);const lt=class lt{constructor(t,e,r=0,s,f){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const i=this.TypedArrayConstructor;s===void 0&&(s=4*i.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:r;this.typedBuffer=f==null?new i(e,u):new i(e,u,(f-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,_t(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s,f){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=s,this.typedBuffer[t]=f}copyFrom(t,e,r){const s=this.typedBuffer,f=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;s[i++]=f[u++],s[i++]=f[u++],s[i++]=f[u++],s[i]=f[u]}get buffer(){return this.typedBuffer.buffer}};lt.ElementCount=4;let y=lt;class oe{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function ut(n,t="Assertion"){if(!n){const e=new Error(t).stack;throw new oe(`${t} at ${e}`)}}function Ee(n,t){n||(t=t||"",console.warn("Verify failed: "+t+`
`+new Error("verify").stack))}function Te(n,t,e,r){let s,f=(e[0]-n[0])/t[0],i=(r[0]-n[0])/t[0];f>i&&(s=f,f=i,i=s);let u=(e[1]-n[1])/t[1],c=(r[1]-n[1])/t[1];if(u>c&&(s=u,u=c,c=s),f>c||u>i)return!1;u>f&&(f=u),c<i&&(i=c);let b=(e[2]-n[2])/t[2],o=(r[2]-n[2])/t[2];return b>o&&(s=b,b=o,o=s),!(f>o||b>i)&&(o<i&&(i=o),!(i<0))}function me(n,t,e,r,s,f=ne()){const i=(r[s]-e[s])*(t[0]-n[0])-(r[0]-e[0])*(t[s]-n[s]),u=(r[0]-e[0])*(n[s]-e[s])-(r[s]-e[s])*(n[0]-e[0]);if(i===0)return!1;const c=u/i;return f[0]=n[0]+c*(t[0]-n[0]),f[1]=n[s]+c*(t[s]-n[s]),!0}function Se(n,t){return Math.log(n)/Math.log(t)}function Ae(n){return n[0]===1&&n[1]===0&&n[2]===0&&n[3]===0&&n[4]===0&&n[5]===1&&n[6]===0&&n[7]===0&&n[8]===0&&n[9]===0&&n[10]===1&&n[11]===0&&n[15]===1}const pt=class pt extends h{constructor(t,e=0,r,s){ut(ft),super(it(),t,e,r,s),this.elementType="f16"}};pt.ElementType="f16";let at=pt;const dt=class dt extends h{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}};dt.ElementType="f32";let Bt=dt;const g=class g extends p{constructor(t,e=0,r,s){ut(ft),super(it(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(g,t,e)}};g.ElementType="f16";let Et=g;const x=class x extends p{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(x,t,e)}};x.ElementType="f32";let Tt=x;const M=class M extends d{constructor(t,e=0,r,s){ut(ft),super(it(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(M,t,e)}};M.ElementType="f16";let mt=M;const m=class m extends d{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}};m.ElementType="f32";let St=m;const L=class L extends y{constructor(t,e=0,r,s){ut(ft),super(it(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(L,t,e)}};L.ElementType="f16";let At=L;const C=class C extends y{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(C,t,e)}};C.ElementType="f32";let bt=C;const w=class w extends ee{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(w,t,e)}};w.ElementType="f32";let gt=w;const F=class F extends ee{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(F,t,e)}};F.ElementType="f64";let xt=F;const N=class N extends se{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(N,t,e)}};N.ElementType="f32";let Mt=N;const P=class P extends se{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(P,t,e)}};P.ElementType="f64";let Lt=P;const R=class R extends h{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(R,t,e)}};R.ElementType="f64";let Ct=R;const Y=class Y extends p{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(Y,t,e)}};Y.ElementType="f64";let wt=Y;const S=class S extends d{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(S,t,e)}static fromTypedArray(t,e){return new S(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}};S.ElementType="f64";let Ft=S;const $=class $ extends y{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer($,t,e)}};$.ElementType="f64";let Nt=$;const V=class V extends h{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(V,t,e)}};V.ElementType="u8";let nt=V;const I=class I extends p{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(I,t,e)}};I.ElementType="u8";let Pt=I;const A=class A extends d{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(A,t,e)}static fromTypedArray(t,e){return new A(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}};A.ElementType="u8";let Rt=A;const O=class O extends y{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(O,t,e)}};O.ElementType="u8";let ct=O;const U=class U extends h{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(U,t,e)}};U.ElementType="u16";let Yt=U;const v=class v extends p{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(v,t,e)}};v.ElementType="u16";let $t=v;const k=class k extends d{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(k,t,e)}};k.ElementType="u16";let Vt=k;const q=class q extends y{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(q,t,e)}};q.ElementType="u16";let It=q;const Z=class Z extends h{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(Z,t,e)}};Z.ElementType="u32";let Ot=Z;const j=class j extends p{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(j,t,e)}};j.ElementType="u32";let Ut=j;const z=class z extends d{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(z,t,e)}};z.ElementType="u32";let vt=z;const D=class D extends y{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(D,t,e)}};D.ElementType="u32";let kt=D;const G=class G extends h{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(G,t,e)}};G.ElementType="i8";let qt=G;const H=class H extends p{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(H,t,e)}};H.ElementType="i8";let Zt=H;const J=class J extends d{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(J,t,e)}};J.ElementType="i8";let jt=J;const K=class K extends y{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(K,t,e)}};K.ElementType="i8";let zt=K;const Q=class Q extends h{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(Q,t,e)}};Q.ElementType="i16";let Dt=Q;const W=class W extends p{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(W,t,e)}};W.ElementType="i16";let Gt=W;const X=class X extends d{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(X,t,e)}};X.ElementType="i16";let Ht=X;const _=class _ extends y{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(_,t,e)}};_.ElementType="i16";let Jt=_;const tt=class tt extends h{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(tt,t,e)}};tt.ElementType="i32";let Kt=tt;const et=class et extends p{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(et,t,e)}};et.ElementType="i32";let Qt=et;const st=class st extends d{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(st,t,e)}};st.ElementType="i32";let Wt=st;const rt=class rt extends y{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(rt,t,e)}};rt.ElementType="i32";let Xt=rt;class re extends nt{constructor(t,e=0,r,s){super(t,e,r,s)}get(t){return this.typedBuffer[t*this.typedBufferStride]/255}set(t,e){this.typedBuffer[t*this.typedBufferStride]=Math.round(255*te(e,0,1))}slice(t,e){return this.sliceBuffer(re,t,e)}}class ie extends ct{constructor(t,e=0,r,s){super(t,e,r,s)}getVec(t,e){return ot(e,super.getVec(t,e),1/255)}setVec(t,e){ce(l,ye(l,e,le),he),ot(l,l,255),pe(l,l),super.setVec(t,l)}get(t,e){return super.get(t,e)/255}set(t,e,r){super.set(t,e,Math.round(255*te(r,0,1)))}setValues(t,e,r,s,f){_t(l,e,r,s,f),this.setVec(t,l)}slice(t,e){return this.sliceBuffer(ie,t,e)}}const l=de();export{Ht as $,Tt as A,Bt as B,Yt as C,$t as D,Et as E,At as F,Vt as G,It as H,bt as I,Ot as J,Ut as K,Nt as L,wt as M,vt as N,Lt as O,kt as P,qt as Q,Zt as R,nt as S,St as U,Mt as V,jt as W,zt as X,Dt as Y,Gt as Z,Jt as _,ft as a,mt as b,ut as c,re as d,Kt as e,ie as f,gt as g,Ee as h,Te as i,xt as j,Pt as k,me as l,it as m,Ae as n,Be as o,Rt as q,Xt as r,Wt as s,Qt as t,Se as u,Ft as v,Ct as w,at as x,ct as z};

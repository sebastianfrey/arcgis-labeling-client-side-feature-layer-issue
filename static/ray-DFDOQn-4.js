import{i_ as u,b6 as c,b3 as h,bH as e,fN as o,bC as f,bE as l,bB as m,go as d,gn as P}from"./index-C_bK48d2.js";import{c as n}from"./vectorStacks-CpRnv_41.js";class b{constructor(i){this._allocator=i,this._items=[],this._itemsPtr=0,this._grow()}get(){return this._itemsPtr===0&&u(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const i=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*g);this._items.length=Math.min(i,this._items.length),this._itemsPtr=0}_grow(){for(let i=0;i<Math.max(8,Math.min(this._items.length,g));i++)this._items.push(this._allocator())}}const g=1024;function s(t){return t?a(c(t.origin),c(t.direction)):a(h(),h())}function a(t,i){return{origin:t,direction:i}}function x(t,i){const r=M.get();return r.origin=t,r.direction=i,r}function k(t,i=s()){return w(t.origin,t.direction,i)}function q(t,i,r=s()){return e(r.origin,t),o(r.direction,i,t),r}function w(t,i,r=s()){return e(r.origin,t),e(r.direction,i),r}function v(t,i){const r=f(n.get(),l(n.get(),t.direction),o(n.get(),i,t.origin));return m(r,r)}function y(t,i,r){const _=m(t.direction,o(r,i,t.origin));return d(r,t.origin,P(r,t.direction,_)),r}const M=new b(()=>s());export{q as S,s as b,x as k,w as q,b as s,k as v,v as w,y};

import{a7 as d,da as m}from"./index-C_bK48d2.js";import{e as c}from"./webStyleAcceptedFormats-CG7ZQ6BV.js";async function i(e,n,t){var r;const o=(r=e.thumbnail)==null?void 0:r.url;if(o){const a=s((await d(o,{responseType:"image"})).data,t);return t!=null&&t.node?(t.node.appendChild(a),t.node):a}const h=await e.fetchSymbol({acceptedFormats:c});return h?n(h,t):null}function s(e,n){const t=!/\\.svg$/i.test(e.src)&&(n==null?void 0:n.disableUpsampling),o=Math.max(e.width,e.height);let h=(n==null?void 0:n.maxSize)!=null?m(n.maxSize):120;t&&(h=Math.min(o,h));const r=typeof(n==null?void 0:n.size)=="number"?n==null?void 0:n.size:null,a=Math.min(h,r!=null?m(r):o);if(a!==o){const l=e.width!==0&&e.height!==0?e.width/e.height:1;l>=1?(e.width=a,e.height=a/l):(e.width=a*l,e.height=a)}return e}export{i as previewWebStyleSymbol};

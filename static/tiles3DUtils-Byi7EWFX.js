import{h4 as R,ae as v,ax as E,bN as k,b5 as c,fN as ee,go as m,gu as G,bH as Q,fP as $,fV as W,h5 as Y,h6 as Z,h7 as u,b3 as f}from"./index-C_bK48d2.js";function N(n,b){if(!Array.isArray(n)||n.length<b)return!1;for(const h of n)if(typeof h!="number")return!1;return!0}const C=7645211,te={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new R({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"}),new R({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"}),new R({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"}),new R({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"}),new R({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"}),new R({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "});function re(n){var b,h,r,S,l,_,w,p,y,M,A,V,U,I;return!(!((h=(b=n.extensions)==null?void 0:b.ESRI_crs)!=null&&h.wkid||(S=(r=n.extensions)==null?void 0:r.ESRI_crs)!=null&&S.latestWkid||(_=(l=n.extensions)==null?void 0:l.ESRI_crs)!=null&&_.wkt)||!((M=(y=(p=(w=n.root)==null?void 0:w.extensions)==null?void 0:p.ESRI_crs)==null?void 0:y.boundingVolume)!=null&&M.box)&&!((I=(U=(V=(A=n.root)==null?void 0:A.extensions)==null?void 0:V.ESRI_crs)==null?void 0:U.boundingVolume)!=null&&I.sphere))}function ie(n,b=!1){var w,p,y,M,A,V,U,I,L,X,H,D,q,P,T,j,B,F,J,K,O;let h=new v({wkid:4326,vcsWkid:115700}),r=(w=n.root)==null?void 0:w.boundingVolume,S=!1,l=(p=n==null?void 0:n.root)==null?void 0:p.transform;if(b&&((M=(y=n.extensions)==null?void 0:y.ESRI_crs)!=null&&M.wkid||(V=(A=n.extensions)==null?void 0:A.ESRI_crs)!=null&&V.latestWkid||(I=(U=n.extensions)==null?void 0:U.ESRI_crs)!=null&&I.wkt)&&((D=(H=(X=(L=n.root)==null?void 0:L.extensions)==null?void 0:X.ESRI_crs)==null?void 0:H.boundingVolume)!=null&&D.box||(j=(T=(P=(q=n.root)==null?void 0:q.extensions)==null?void 0:P.ESRI_crs)==null?void 0:T.boundingVolume)!=null&&j.sphere))h=new v((B=n.extensions)==null?void 0:B.ESRI_crs),r=(K=(J=(F=n.root)==null?void 0:F.extensions)==null?void 0:J.ESRI_crs)==null?void 0:K.boundingVolume,l=(O=n.root)==null?void 0:O.transform,S=!0;else if(!r)return new E(-180,-90,180,90,h);if(r.box){const t=r==null?void 0:r.box;if(t[3]>C&&t[7]>C&&t[11]>C)return new E({...te,spatialReference:h})}const _=f();if(!S&&r.region&&N(r.region,6)){const t=r.region,a=k(t[0]),o=k(t[1]),i=t[4],s=k(t[2]),e=k(t[3]),x=t[5];return new E({xmin:a,ymin:o,zmin:i,xmax:s,ymax:e,zmax:x,spatialReference:h})}if(r.sphere&&N(r.sphere,4)){const t=r.sphere,a=c(t[0],t[1],t[2]),o=t[3]/Math.sqrt(3),i=f();ee(i,a,c(o,o,o));const s=f();if(m(s,a,c(o,o,o)),l&&N(l,16)){const d=l;G(_,i,d),Q(i,_),G(_,s,d),Q(s,_)}S||($(i,W,0,i,v.WGS84,0),$(s,W,0,s,v.WGS84,0));const e=f(),x=f();return Y(e,i,s),Z(x,i,s),new E({xmin:e[0],ymin:e[1],zmin:e[2],xmax:x[0],ymax:x[1],zmax:x[2],spatialReference:h})}if(r.box&&N(r.box,12)){const t=r.box,a=c(t[0],t[1],t[2]),o=c(t[3],t[4],t[5]),i=c(t[6],t[7],t[8]),s=c(t[9],t[10],t[11]),e=[];for(let g=0;g<8;++g)e.push(f());if(m(e[0],a,o),m(e[0],e[0],i),m(e[0],e[0],s),u(e[1],a,o),m(e[1],e[1],i),m(e[1],e[1],s),m(e[2],a,o),u(e[2],e[2],i),m(e[2],e[2],s),u(e[3],a,o),u(e[3],e[3],i),m(e[3],e[3],s),m(e[4],a,o),m(e[4],e[4],i),u(e[4],e[4],s),u(e[5],a,o),m(e[5],e[5],i),u(e[5],e[5],s),m(e[6],a,o),u(e[6],e[6],i),u(e[6],e[6],s),u(e[7],a,o),u(e[7],e[7],i),u(e[7],e[7],s),l&&N(l,16)){const g=l;for(let z=0;z<8;++z)G(e[z],e[z],g)}const x=c(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),d=c(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let g=0;g<8;++g)S||$(e[g],W,0,e[g],v.WGS84,0),Y(d,d,e[g]),Z(x,x,e[g]);return new E({xmin:d[0],ymin:d[1],zmin:d[2],xmax:x[0],ymax:x[1],zmax:x[2],spatialReference:h})}return new E(-180,-90,180,90,h)}export{ie as E,re as R};

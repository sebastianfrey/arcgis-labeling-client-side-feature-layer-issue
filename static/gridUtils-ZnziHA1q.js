import{gI as b,f9 as h,ae as p,aM as M,ac as x,dk as G,iq as R}from"./index-C_bK48d2.js";import{y as w,v as S}from"./geodesicUtils-CTZo9mb6.js";const d=50,I=5;function q(t,a){return Math.log(t)/Math.log(a)}function U(t,a,o){const e=t===1?10:t;return e**(o?Math.round(q(d/a,e)):0)}function j(t){const{isGeographic:a,isWebMercator:o}=t;return!a&&!o}function _(t,a,o){const e=typeof t=="number"?null:t,r=o??(e==null?void 0:e.spatialReference);if(r==null||!b(r)||j(r))return h(r);let s=(e==null?void 0:e.x)??t,c=(e==null?void 0:e.y)??a;const f=1/Math.sqrt(2);let i=s+f,l=c+f;const{isWebMercator:g,isGeographic:m}=r;let u=m&&!w(r)?p.WGS84:r;if(g){let n=new M({x:s,y:c,spatialReference:r});x(n,!0,n),s=n.x,c=n.y,n=new M({x:i,y:l,spatialReference:r}),x(n,!0,n),i=n.x,l=n.y,u=p.WGS84}const W=new G({paths:[[[s,c],[i,l]]],spatialReference:u}),$=R(W,10);let y;try{[y]=S([$],"meters")}catch{return h(r)}return y}export{U as l,I as t,_ as u};

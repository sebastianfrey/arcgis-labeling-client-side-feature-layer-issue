import{dT as u,dU as o}from"./index-C_bK48d2.js";function d(e,n){var t;const a=e.allLayerViews.find(r=>r.uid===n);return(a==null?void 0:a.layer.parent)===((t=e.map)==null?void 0:t.basemap)}function R(e){return!!(e!=null&&e.baseLayers.concat(e.referenceLayers).some(c))}function c(e){if(l(e.url))return!0;if(e.type==="vector-tile")for(const n in e.sourceNameToSource){const a=e.sourceNameToSource[n];if(l(a==null?void 0:a.sourceUrl))return!0}return!1}function g(e,n){var i;if(n==null||e==null)return{spatialReference:null,updating:!1};if(n.loadStatus==="not-loaded")return n.load(),{spatialReference:null,updating:!0};if(n.spatialReference)return{spatialReference:n.spatialReference,updating:!1};if(n.baseLayers.length===0)return{spatialReference:null,updating:!1};const a=n.baseLayers.at(0);switch(a.loadStatus){case"not-loaded":a.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const t=(("supportedSpatialReferences"in a?a.supportedSpatialReferences:null)||["tileInfo"in a?(i=a.tileInfo)==null?void 0:i.spatialReference:a.spatialReference]).filter(Boolean),r=e.spatialReference;return r?{spatialReference:t.find(s=>r.equals(s))??t[0]??null,updating:!1}:{spatialReference:t[0],updating:!1}}const f=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function l(e){if(!e)return!1;const n=new u(o(e));return!!n.authority&&f.test(n.authority)}export{c as b,d as c,g as d,R as m};

import{b$ as c,ln as d,lo as y,lp as p,lq as m,aO as _,lr as b,ls as h,a7 as g,a6 as I,a as w,ke as u,cO as A}from"./index-C_bK48d2.js";import{o as B,f as $}from"./Indices-BnCWM-r-.js";function S(e,t){i(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function i(e,t,o=2,r=o){const a=t.length/2;let n=0,l=0;if(!c(t)||d(t)){for(let s=0;s<a;++s)e[n]=t[l],e[n+1]=t[l+1],n+=o,l+=r;return}const f=y(t);if(p(t))for(let s=0;s<a;++s)e[n]=Math.max(t[l]/f,-1),e[n+1]=Math.max(t[l+1]/f,-1),n+=o,l+=r;else for(let s=0;s<a;++s)e[n]=t[l]/f,e[n+1]=t[l+1]/f,n+=o,l+=r}function R(e,t,o,r){const a=e.typedBuffer,n=e.typedBufferStride,l=(r==null?void 0:r.count)??e.count;let f=((r==null?void 0:r.dstIndex)??0)*n;for(let s=0;s<l;++s)a[f]=t,a[f+1]=o,f+=n}Object.freeze(Object.defineProperty({__proto__:null,fill:R,normalizeIntegerBuffer:i,normalizeIntegerBufferView:S},Symbol.toStringTag,{value:"Module"}));class x{constructor(t=o=>o){this._resolveURI=t}async loadJSON(t,o){return this._load("json",t,o)}async loadBinary(t,o){return m(t)?(_(o),b(t)):this._load("array-buffer",t,o)}async loadImage(t,o){return this._load("image",t,o)}async _load(t,o,r){o=this._resolveURI(o);const a=await h(g(o,{responseType:t,...r}));if(a.ok)return a.value.data;throw I(a.error),new w("gltf-loader-request-error",`Request for resource failed: ${a.error}`)}}function j(e,t){switch(t){case u.TRIANGLES:return U(e);case u.TRIANGLE_STRIP:return T(e);case u.TRIANGLE_FAN:return N(e)}}function U(e){return typeof e=="number"?B(e):A(e)?new Uint16Array(e):e}function T(e){const t=typeof e=="number"?e:e.length;if(t<3)return[];const o=t-2,r=$(3*o);if(typeof e=="number"){let a=0;for(let n=0;n<o;n+=1)n%2==0?(r[a++]=n,r[a++]=n+1,r[a++]=n+2):(r[a++]=n+1,r[a++]=n,r[a++]=n+2)}else{let a=0;for(let n=0;n<o;n+=1)n%2==0?(r[a++]=e[n],r[a++]=e[n+1],r[a++]=e[n+2]):(r[a++]=e[n+1],r[a++]=e[n],r[a++]=e[n+2])}return r}function N(e){const t=typeof e=="number"?e:e.length;if(t<3)return new Uint16Array(0);const o=t-2,r=o<=65536?new Uint16Array(3*o):new Uint32Array(3*o);if(typeof e=="number"){let f=0;for(let s=0;s<o;++s)r[f++]=0,r[f++]=s+1,r[f++]=s+2;return r}const a=e[0];let n=e[1],l=0;for(let f=0;f<o;++f){const s=e[f+2];r[l++]=a,r[l++]=n,r[l++]=s,n=s}return r}export{S as a,R as b,x as l,i as n,j as o};
